import { drawImageOnPlanet } from './utils';
const type1 = [
  [-19.2, 10.6],
  [-19.2, 0.8],
  [-18.6, 0.4],
  [-18.6, -1.8],
  [-19.2, -1.8],
  [-19.2, -5.2],
  [-18.6, -5.2],
  [-18.6, -15.2],
  [-19.2, -15.4],
  [-19.2, -20],
  [-18.6, -20.2],
  [-18.6, -30.6],
  [-17, -32.6],
  [-15.6, -32.6],
  [-15.6, -34.6],
  [-13.8, -34.6],
  [-13.4, -32.4],
  [-10, -32],
  [-7.2, -30.4],
  [-7.2, 0.4],
  [-6.6, 0.8],
  [-7, 11],
  [-5.2, 11],
  [-5.4, -0.4],
  [-4.4, -0.2],
  [-1.2, -2.4],
  [-1, -37.2],
  [-2.4, -39],
  [-2.4, -53],
  [-1.4, -53],
  [-1.2, -54.2],
  [-1.8, -54.2],
  [-1.8, -56],
  [1, -56],
  [0.8, -59],
  [3, -61],
  [5, -61],
  [5, -63.4],
  [6.6, -63.4],
  [6.6, -60.6],
  [7.8, -60.8],
  [7.8, -62],
  [8.4, -62],
  [8.4, -60.6],
  [10.8, -60.6],
  [10.8, -56],
  [12, -55],
  [12, -53],
  [14.2, -53],
  [14.2, -51.2],
  [16.6, -51.2],
  [16.6, -43],
  [15.2, -43],
  [15.2, -43.4],
  [14.6, -43.4],
  [14.2, -34],
  [12.4, -32],
  [12.4, -27.8],
  [13.8, -26.2],
  [14, -14.4],
  [19.2, -14.4],
  [19.2, -13.2],
  [18.6, -13.2],
  [18.6, -9.4],
  [17.8, -9.6],
  [17.6, -7.4],
  [20.2, -7.4],
  [20.2, -4.8],
  [19.6, -4.8],
  [17.4, -1.4],
  [17.4, 5.6],
  [17, 10.4],
  [18, 10.4],
  [17.4, 6.4],
  [16.8, 10.6]
];

const type2 = [
  [11.6, 5.2],
  [11.6, 2.2],
  [12.2, 2],
  [12.2, -0.2],
  [11.6, -0.2],
  [11.6, -2.4],
  [10, -4.2],
  [10.2, -18.6],
  [10.8, -19],
  [11, -26.2],
  [10.2, -26.2],
  [10.4, -41.6],
  [7.8, -44.4],
  [7.8, -45.2],
  [8.8, -45.2],
  [8.8, -44.4],
  [10.6, -44.8],
  [10.6, -54.2],
  [9, -54.2],
  [8.8, -53.6],
  [8, -53.6],
  [8, -54.4],
  [9, -55.4],
  [9.2, -64.6],
  [8.4, -65.2],
  [0, -65.4],
  [-0.2, -61],
  [-0.8, -61.4],
  [-1, -55.6],
  [-2.8, -55.4],
  [-6.2, -51.6],
  [-6, -40.4],
  [-6, -41.2],
  [-7.2, -40.4],
  [-7.6, -32.4],
  [-6.6, -31],
  [-5.6, -17.2],
  [-8.4, -16.2],
  [-8, -0.2],
  [-8.6, -0.2],
  [-8.6, -5.8],
  [-9.8, -5.4],
  [-10, -0.2],
  [-10.2, -0.2],
  [-11.2, -2.4],
  [-11.2, 8.4],
  [11.8, 9.2]
];

let frame = 0;

export default type => (context, transformOnPlanet, [azimuth, scale]) => {
  frame = (frame + 1) % 100;

  drawImageOnPlanet(context, transformOnPlanet, [
    {
      color: [0, -65, 1, 10, [[0, `#091A1E`], [0.8, `rgb(10,35,71)`], [1, `rgb(101,121,101)`]]],
      paths: type === 0 ? type1 : type2
    },
    ...(type === 0
      ? [
          ...Array(3)
            .fill()
            .map((_, i) => ({
              color: '#fff',
              shadow: ['#5f0', 10],
              paths: [[i * 0.8, -50], [0.2 + i * 0.8, -50], [0.2 + i * 0.8, -45], [i * 0.8, -45]]
            })),
          ...Array(3)
            .fill()
            .map((_, i) => ({
              color: '#fff',
              shadow: ['#f05', 10],
              paths:
                (i === 1 && frame % 30 !== 0 || i !== 1)
                  ? [[-19.8, -20 + i * 2.4], [-21.8, -20 + i * 2.4], [-21.8, -22 + i * 2.4], [-19.8, -22 + i * 2.4]]
                  : []
            })),
          {
            color: '#fff',
            shadow: ['#0ff', 10],
            paths: frame % 30 !== 0 ? [[14.5, -53], [16.5, -53], [16.5, -43], [14.5, -43]] : []
          }
        ]
      : [
          {
            color: '#fff',
            shadow: ['#0ff', 10],
            paths: [[2.4, -35], [2.9, -35], [2.9, -10], [2.4, -10]]
          }
        ])
  ]);
};
